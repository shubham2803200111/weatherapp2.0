<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neumorphic Weather App</title>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="style22.css">
</head>
<body>

  <div class="con">
    <div class="search">
      <input type="search" class="inp" placeholder="Enter City Name">
      <button class="btn"><i class="fas fa-search"></i></button>
    </div>

    <div class="ico">
      <img class="im" src="" alt="Weather Icon">
    </div>

    <div class="tp"><span class="tem">--</span><sup>°C</sup></div>
    <div class="dis">----</div>

    <div class="ctco">
      <span class="ct">--</span><span>, </span><span class="co">--</span>
    </div>

    <div class="mx">
      <span class="min">--</span><span>°C / </span><span class="max">--</span>°C
    </div>

    <div class="humpre">
      <p><i class="fas fa-tint"></i> Humidity: <span class="hum">--</span>%</p>
      <p><i class="fas fa-tachometer-alt"></i> Pressure: <span class="pre">--</span> hPa</p>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    let isClick = false;

    $(".btn").click(() => {
      isClick = true;

      $.getJSON("https://api.openweathermap.org/data/2.5/weather?q=" + $(".inp").val() + "&appid=3fee2c5d70b55a6704b6f388aee014a1&units=metric", (data) => {
        $(".tem").html(data.main.temp);
        $(".ct").html(data.name);
        $(".min").html(data.main.temp_min);
        $(".max").html(data.main.temp_max);
        $(".co").html(data.sys.country);
        $(".dis").html(data.weather[0].description);
        $(".im").attr("src", "https://openweathermap.org/img/wn/" + data.weather[0].icon + "@2x.png");
        $(".hum").html(data.main.humidity);
        $(".pre").html(data.main.pressure);
      });
    });

    const success = (position) => {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;

      $.getJSON("https://api.openweathermap.org/data/2.5/weather?lat=" + lat + "&lon=" + lon + "&appid=3fee2c5d70b55a6704b6f388aee014a1&units=metric", (data) => {
        $(".tem").html(data.main.temp);
        $(".ct").html(data.name);
        $(".min").html(data.main.temp_min);
        $(".max").html(data.main.temp_max);
        $(".co").html(data.sys.country);
        $(".dis").html(data.weather[0].description);
        $(".im").attr("src", "https://openweathermap.org/img/wn/" + data.weather[0].icon + "@2x.png");
        $(".hum").html(data.main.humidity);
        $(".pre").html(data.main.pressure);
      });
    };

    const error = (err) => {
      console.error("Geolocation failed:", err);
    };

    if (!isClick) {
      navigator.geolocation.getCurrentPosition(success, error);
    }
  </script>
</body>
</html>
